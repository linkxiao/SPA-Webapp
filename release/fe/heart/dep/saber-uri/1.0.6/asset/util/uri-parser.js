define("saber-uri/util/uri-parser",["require","saber-lang/extend"],function(require){function e(e){var t={},n=["scheme","username","password","host","port","path","query","fragment"];return n.forEach(function(n){t[n]=e[n]||o}),t}function t(e){var t={};return e.replace(/^([^@]+@)?([^:]+)(:\d+)?$/,function(e,n,r,i){if(n)n=n.substring(0,n.legnth-1),n=n.split(":"),t.username=n[0],t.password=n[1];if(t.host=r,i)t.port=i.substring(1)}),t}function n(e,n){var r=/[^:]+:\d{2,}(\/|$)/.test(e);if(r)if(e=e.split("/"),s(n,t(e.shift())),e.length>0)n.path="/"+e.join("/");return r}function r(e,t){var n=e.indexOf(":"),r=e.indexOf("/");r=r>=0?r:e.length;var i=n>=0&&r>n;if(i)t.scheme=e.substring(0,n),t.path=e.substring(n+1);return i}function i(e){var i={},o=e.indexOf("#");if(o>=0)i.fragment=e.substring(o+1),e=e.substring(0,o);if(o=e.indexOf("?"),o>=0)i.query=e.substring(o+1),e=e.substring(0,o);if(o=e.indexOf("://"),o>=0){if(i.scheme=e.substring(0,o),e=e.substring(o+3),"file"===i.scheme)i.path=e;else if(e=e.split("/"),s(i,t(e.shift())),e.length>0)i.path="/"+e.join("/");return i}if(n(e,i))return i;if(r(e,i))return i;if(e=e.split("/"),i.host=e.shift(),e.length>0)i.path="/"+e.join("/");return i}var o,s=require("saber-lang/extend");return function(t){if("string"==typeof t||t instanceof String)t=i(t);return e(t)}});