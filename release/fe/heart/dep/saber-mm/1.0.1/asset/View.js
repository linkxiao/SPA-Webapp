define("saber-mm/View",["require","saber-lang/inherits","saber-dom","./event","./AbstractView","saber-widget"],function(require){function e(e,t){return t[a]=function(r){return t.call(e,this,r)}}function t(e){var t,r,n,i=e.domEvents||{};Object.keys(i).forEach(function(o){n=i[o],o=o.split(":"),t=o[0].trim(),r=o[1]?o[1].trim():void 0,e.addDomEvent(e.main,t,r,n)})}function r(e){s.call(this,e)}var n=require("saber-lang/inherits"),i=require("saber-dom"),o=require("./event"),s=require("./AbstractView"),a="__delegate__";return n(r,s),r.prototype.ready=function(){t(this),s.prototype.ready.call(this)},r.prototype.query=function(e,t){if(t=t||this.main,!t)return null;else return i.query(e,t)},r.prototype.queryAll=function(e,t){if(t=t||this.main,!t)return[];else return i.queryAll(e,t)},r.prototype.redirect=function(e,t,r){this.router.redirect(e,t,r)},r.prototype.addDomEvent=function(t,r,n,i){if(this.bindElements.indexOf(t)<0)this.bindElements.push(t);if(!i)i=n,n=void 0;o.on(t,r,n,e(this,i))},r.prototype.removeDomEvent=function(e,t,r,n){if(!n)n=r,r=void 0;if(n[a])o.off(e,t,r,n[a])},r.prototype.dispose=function(){this.emit("dispose"),this.bindElements.forEach(function(e){o.clear(e)}),this.bindElements=[],require("saber-widget").dispose(this.main),this.main=null,s.prototype.dispose.call(this)},r});