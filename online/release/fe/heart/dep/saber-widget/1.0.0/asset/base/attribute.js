define("saber-widget/base/attribute",["require","saber-lang/extend","saber-lang/type"],function(require){function e(e,t){if(e===t)return!0;var i=n.type(e),r=n.type(t);if(i!==r)return!1;var o={string:String,number:Number,"boolean":Boolean};for(var s in o)if(s===i)return e===o[s](t);if("array"===i){var a=[e.toString(),t.toString()];return!/\[object\s/.test(a[0])&&!/\[object\s/.test(a[1])&&a[0]===a[1]}if("date"===i)return+e===+t;if("regexp"===i)return i.source===r.source&&i.global===r.global&&i.ignoreCase===r.ignoreCase&&i.multiline===r.multiline;if(n.isEmpty(e)&&n.isEmpty(t))return!0;if("object"!=typeof e||"object"!=typeof t)return!1;if(n.isPlainObject(e)&&n.isPlainObject(t)){if(Object.keys(e).toString()!==Object.keys(t).toString())return!1;for(var u in e)if(e[u]!==t[u])return!1;return!0}return!1}var t=require("saber-lang/extend"),n=require("saber-lang/type"),exports={};return exports.get=function(e){var t=this.attrs[e]||{};return t.getter?t.getter.call(this,t.value,e):t.value},exports.set=function(i,r,o){var s=this.attrs,a={};if("string"==typeof i)a[i]=r;else if("object"==typeof i)a=i,o=r;o=o||{};var u=this.is("init"),c={};for(var l in a)if(a.hasOwnProperty(l)){var f=a[l],h=s[l]||(s[l]={});if(h.readOnly||h.readonly)throw new Error("attribute is readOnly: "+l);if(h.setter)h.setter.call(this,f,l);var p=h.value;if(!o.override&&n.isPlainObject(p)&&n.isPlainObject(f))f=t({},p,f);if(s[l].value=f,!e(f,p)){if(!o.silent&&u)this.emit("propertychange",l,p,f);if(s[l].repaint)c[l]=[p,f]}else;}else;if(this.is("render")&&Object.keys(c).length>0)this.repaint(c)},exports});