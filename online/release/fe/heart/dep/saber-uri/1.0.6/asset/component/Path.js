define("saber-uri/component/Path",["require","saber-lang/inherits","./Abstract"],function(require){function e(e){if(!e)e="/";return e}function t(e){return e=e.split("/"),e.pop(),e.join("/")}function n(e,t){for(var n,r=0,i=e.length-1;n=e[i];i--)if("."===n)e.splice(i,1);else if(".."===n)e.splice(i,1),r++;else if(r)e.splice(i,1),r--;if(t)for(;r-->0;)e.unshift("..");return e}function r(e,t){o.call(this,e,t)}var i=require("saber-lang/inherits"),o=require("./Abstract");return r.resolve=function(e,i){if(i=i||"","/"===i.charAt(0))return r.resolve(i);var o="/"===e.charAt(0),s=!1;if(i)e=t(e),s="/"===i.charAt(i.length-1);else if(e.length>1)s="/"===e.charAt(e.length-1);var a=e.split("/").concat(i.split("/")).filter(function(e){return!!e});return a=n(a,!o),(o?"/":"")+(a.length>0?a.join("/")+(s?"/":""):"")},i(r,o),r.prototype.set=function(e,t){if(t instanceof r)t=t.get();var n=[e||""];if(t)n.unshift(t);this.data=r.resolve.apply(r,n)},r.prototype.equal=function(t){var n=e(this.data);if(t instanceof r)t=e(t.get());else t=e(r.resolve(t||""));return n===t},r.prototype.resolve=function(e,t){if(e instanceof r)e=e.get();var n=[this.data];if(t)n.unshift(e);else n.push(e);this.data=r.resolve.apply(r,n)},r});