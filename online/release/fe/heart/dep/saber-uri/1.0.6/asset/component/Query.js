define("saber-uri/component/Query",["require","saber-lang/inherits","saber-lang/extend","./Abstract","../util/parse-query","../util/stringify-query"],function(require){function e(e){return"[object Object]"===Object.prototype.toString.call(e)}function t(e){return"string"==typeof e}function n(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;e=e.slice(0),e=e.slice(0),e.sort(),t.sort();for(var n=!0,r=0,i=e.length;n&&i>r;r++)n=e[r]==t[r];return n}function r(t,r){if(!e(t)||!e(r))return!1;var i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(var s,a,u=!0,c=0;u&&(s=i[c]);c++){if(!r.hasOwnProperty(s)){u=!1;break}if(a=t[s],Array.isArray(a))u=n(a,r[s]);else u=a==r[s]}return u}function i(e){if(Array.isArray(e))e=e.map(function(e){return decodeURIComponent(e||"")});else if(!e&&!t(e))e=null;else e=decodeURIComponent(e);return e}function o(e,t,n){var r=n[e];if(t=i(t),r){if(!Array.isArray(r))r=[r];if(Array.isArray(t))r=r.concat(t);else r.push(t)}else r=t;return n[e]=r,n}function s(e){e=e||{},c.call(this,e)}var a=require("saber-lang/inherits"),u=require("saber-lang/extend"),c=require("./Abstract"),f=require("../util/parse-query"),l=require("../util/stringify-query"),p="?";return a(s,c),s.prototype.set=function(){if(1===arguments.length){var t=arguments[0];if(e(t)){var n=this.data={};Object.keys(t).forEach(function(e){n[e]=i(t[e])})}else this.data=f(t)}else this.data[arguments[0]]=i(arguments[1])},s.prototype.get=function(e){return e?this.data[e]:u({},this.data)},s.prototype.toString=function(e){e=e||p;var t=l(this.data);return t?e+t:""},s.prototype.equal=function(e){if(t(e))e=f(e);else if(e instanceof s)e=e.get();return r(this.data,e)},s.prototype.add=function(t,n){var r=this.data;if(e(t))Object.keys(t).forEach(function(e){o(e,t[e],r)});else o(t,n,r);this.data=r},s.prototype.remove=function(e){if(!e)this.data={};else if(this.data.hasOwnProperty(e))delete this.data[e]},s});